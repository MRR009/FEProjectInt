
<div class="loginpage-bg-container">
    <div class="login-form-container" *ngIf="isForgotPasswordClicked">
      <img
        src="https://res.cloudinary.com/dhyg2tdfb/image/upload/v1660730549/fiat-logo_thmo3q.png"
        alt="website logo"
        class="website-logo"
      />
        <form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label class="label">
                    Email Id
                </label>
                <input type="text" formControlName="mailId" class="login-input-element" placeholder="Enter MailId"
                    [ngClass]="{ 'is-invalid': submitted && form['mailId'].errors }"  />
                <div *ngIf="submitted && form['mailId'].errors" class="invalid-feedback">
                    <div *ngIf="form['mailId'].errors['required']">Email Id is required</div>
                </div>
            </div>
            <div class="form-group">
                <label class="label">
                    Password
                </label>
                <input type={{passwordType}} formControlName="password" class="login-input-element" placeholder="Enter Password"
                    [ngClass]="{'is-invalid': submitted && form['password'].errors }"  />
                <div *ngIf="submitted && form['password'].errors" class="invalid-feedback">
                    <div *ngIf="form['password'].errors['required']">Password is required</div>
                </div>
            </div>
        
        <div class="show-password-container">
          <input
            type="checkbox"
            class="checkbox-show"
            name="showPassword"
            ngModel
            (change)="onChange($event)"
          />
          <label class="label" for="showPassword">
            Show Password
          </label>
        </div>
        <p class="error-msg">{{errorMsg}}</p>
        <div class="button-container">
          <button class="login-button" type="submit" >
            Login
          </button>
        </div>
        <div class="signup-container">
          <a class="label-anchor" (click)="forgotPassword()">Forgot Password</a>
        </div>
        
      </form>
    </div>
    <div class="login-form-container" *ngIf="sendOtpClicked">
      <img
        src="https://res.cloudinary.com/dhyg2tdfb/image/upload/v1660730549/fiat-logo_thmo3q.png"
        alt="website logo"
        class="website-logo"
      />
        <form class="login-form" [formGroup]="otpForm" (ngSubmit)="sendOtp()">
            <div class="form-group">
                <label class="label">
                    Email Id
                </label>
                <input type="text" formControlName="mailId" class="login-input-element" placeholder="Enter MailId"
                    [ngClass]="{ 'is-invalid': otpFormSubmitted && otpFormCon['mailId'].errors }"  />
                <div *ngIf=" otpFormSubmitted && otpFormCon['mailId'].errors" class="invalid-feedback">
                    <div *ngIf="otpFormCon['mailId'].errors['required']">Email Id is required</div>
                </div>
            </div>
        <div class="button-container">
          <button class="login-button" type="submit">
            Send Otp
          </button>
        </div>
        <p class="error-msg">{{errorMsg}}</p>
      </form>
      <div class="signup-container">
        <a class="label-anchor" (click)="backToLogin()">Back to Login</a>
      </div>
    </div>
    <div class="login-form-container" *ngIf="resetPasswordClicked">
      <img
        src="https://res.cloudinary.com/dhyg2tdfb/image/upload/v1660730549/fiat-logo_thmo3q.png"
        alt="website logo"
        class="website-logo"
      />
        <form class="login-form" [formGroup]="validateOtpForm" (ngSubmit)="onResetPassword()">
            <div class="form-group">
                <label class="label">
                   Enter New Password
                </label>
                <input type={{passwordType}} formControlName="password" class="login-input-element" placeholder="Enter New Password"
                    [ngClass]="{ 'is-invalid': validateOtpFormSubmitted && validateOtpFormCon['password'].errors }"  />
                <div *ngIf="validateOtpFormSubmitted &&  validateOtpFormCon['password'].errors" class="invalid-feedback">
                    <div *ngIf="validateOtpFormCon['password'].errors['required']">password is required</div>
                </div>
            </div>
            <div class="form-group">
                <label class="label">
                    Confirm Password
                </label>
                <input type={{passwordType}} formControlName="confirmPassword" class="login-input-element" placeholder="Enter Password same as above"
                    [ngClass]="{'is-invalid': validateOtpFormSubmitted && validateOtpFormCon['confirmPassword'].errors }"  />
                <div *ngIf="validateOtpFormSubmitted && validateOtpFormCon['confirmPassword'].errors" class="invalid-feedback">
                    <div *ngIf="validateOtpFormCon['confirmPassword'].errors['required']">Confirm Password is required</div>
                </div>
            </div>
            <div class="form-group">
              <label class="label">
                  Enter OTP
              </label>
              <input type=number formControlName="otpEntered" class="login-input-element" placeholder="Enter OTP received on your mail"
                  [ngClass]="{'is-invalid': validateOtpFormSubmitted && validateOtpFormCon['otpEntered'].errors }"   />
              <div *ngIf="validateOtpFormSubmitted && validateOtpFormCon['otpEntered'].errors" class="invalid-feedback">
                  <div *ngIf="validateOtpFormCon['otpEntered'].errors['required']">OTP is required</div>
              </div>
          </div>
          <p class="error-msg">{{errorMsg}}</p>
        
        <div class="show-password-container">
          <input
            type="checkbox"
            class="checkbox-show"
            name="showPassword"
            ngModel
            (change)="onChange($event)"
          />
          <label class="label" for="showPassword">
            Show Password
          </label>
        </div>
        <p class="error-msg">{{errorMsg}}</p>
        <div class="button-container">
          <button class="login-button" type="submit" >
            Reset Password
          </button>
        </div>
        <div class="signup-container">
          <a class="label-anchor" (click)="backToLogin()">Back to Login</a>
        </div>
      </form>
    </div>
  </div>